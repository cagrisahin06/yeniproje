<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forensic Watermark - Derin Teknik Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .gradient-bg { background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%); }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); }
        .code-block { background: #0d1117; border: 1px solid #30363d; }
    </style>
</head>
<body class="gradient-bg text-slate-200 min-h-screen">
    <nav class="fixed top-0 w-full glass border-b border-slate-700 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center">
                    <span class="text-white font-bold text-lg">T</span>
                </div>
                <span class="font-semibold">Derin Teknik Plan</span>
            </div>
            <a href="index.html" class="text-slate-400 hover:text-white transition">← Ana Sayfa</a>
        </div>
    </nav>

    <main class="pt-24 pb-16 px-6">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <header class="mb-12">
                <div class="flex items-center gap-3 mb-4">
                    <span class="px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm font-medium">DERİN TEKNİK</span>
                    <span class="text-slate-500">v2.1.0</span>
                </div>
                <h1 class="text-5xl font-bold text-white mb-4">Derin Teknik Plan</h1>
                <p class="text-xl text-slate-400 max-w-3xl">Algoritma implementasyonu, kod örnekleri, optimizasyon teknikleri ve detaylı teknik spesifikasyonlar.</p>
            </header>

            <!-- Algorithm Implementation -->
            <section class="glass rounded-2xl p-8 mb-12 border border-slate-700">
                <h2 class="text-2xl font-bold text-white mb-6">Algoritma Implementasyonu</h2>
                
                <div class="space-y-8">
                    <!-- DCT Implementation -->
                    <div>
                        <h3 class="text-xl font-semibold text-white mb-4">1. DCT (Discrete Cosine Transform)</h3>
                        <div class="code-block rounded-lg p-4">
                            <div class="text-xs text-slate-500 mb-2">// CUDA DCT Kernel</div>
                            <pre class="mono text-sm text-green-400 overflow-x-auto">__global__ void dct2dKernel(
    float* input, float* output, int width, int height
) {
    int x = blockIdx.x * blockDim.x + threadIdx.x;
    int y = blockIdx.y * blockDim.y + threadIdx.y;
    
    if (x >= width || y >= height) return;
    
    float sum = 0.0f;
    float cu = (x == 0) ? M_SQRT1_2 : 1.0f;
    float cv = (y == 0) ? M_SQRT1_2 : 1.0f;
    
    for (int i = 0; i < 8; i++) {
        for (int j = 0; j < 8; j++) {
            float pixel = input[(blockIdx.y * 8 + i) * width + (blockIdx.x * 8 + j)];
            sum += pixel * cosf((2*i + 1) * x * M_PI / 16.0f) 
                       * cosf((2*j + 1) * y * M_PI / 16.0f);
        }
    }
    
    output[y * width + x] = 0.25f * cu * cv * sum;
}</pre>
                        </div>
                    </div>

                    <!-- DWT Implementation -->
                    <div>
                        <h3 class="text-xl font-semibold text-white mb-4">2. DWT (Discrete Wavelet Transform) - Haar</h3>
                        <div class="code-block rounded-lg p-4">
                            <div class="text-xs text-slate-500 mb-2">// Haar DWT Kernel</div>
                            <pre class="mono text-sm text-green-400 overflow-x-auto">__global__ void haarDWTKernel(
    float* input, float* ll, float* lh, float* hl, float* hh,
    int width, int height
) {
    int x = blockIdx.x * blockDim.x + threadIdx.x;
    int y = blockIdx.y * blockDim.y + threadIdx.y;
    
    if (x >= width/2 || y >= height/2) return;
    
    int i00 = (2*y) * width + (2*x);
    int i01 = (2*y) * width + (2*x + 1);
    int i10 = (2*y + 1) * width + (2*x);
    int i11 = (2*y + 1) * width + (2*x + 1);
    
    float a = input[i00];
    float b = input[i01];
    float c = input[i10];
    float d = input[i11];
    
    // Haar wavelet
    ll[y * (width/2) + x] = (a + b + c + d) / 4.0f;  // Low-Low
    lh[y * (width/2) + x] = (a + b - c - d) / 4.0f;  // Low-High
    hl[y * (width/2) + x] = (a - b + c - d) / 4.0f;  // High-Low
    hh[y * (width/2) + x] = (a - b - c + d) / 4.0f;  // High-High
}</pre>
                        </div>
                    </div>

                    <!-- SVD Implementation -->
                    <div>
                        <h3 class="text-xl font-semibold text-white mb-4">3. SVD (Singular Value Decomposition)</h3>
                        <div class="code-block rounded-lg p-4">
                            <div class="text-xs text-slate-500 mb-2">// SVD Watermark Embed</div>
                            <pre class="mono text-sm text-green-400 overflow-x-auto">__device__ void svdEmbed(
    float* matrix, int n, float* watermark, float alpha
) {
    // Jacobi iteration for SVD (simplified)
    float* U = matrix;  // Reuse input
    float S[64];        // Singular values
    float V[64 * 64];   // Right singular vectors
    
    // Initialize V as identity
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            V[i * n + j] = (i == j) ? 1.0f : 0.0f;
        }
    }
    
    // Jacobi sweeps
    for (int sweep = 0; sweep < 10; sweep++) {
        for (int p = 0; p < n; p++) {
            for (int q = p + 1; q < n; q++) {
                // Compute Jacobi rotation
                float app = 0, aqq = 0, apq = 0;
                for (int k = 0; k < n; k++) {
                    app += U[k * n + p] * U[k * n + p];
                    aqq += U[k * n + q] * U[k * n + q];
                    apq += U[k * n + p] * U[k * n + q];
                }
                
                float phi = 0.5f * atan2f(2 * apq, aqq - app);
                float c = cosf(phi);
                float s = sinf(phi);
                
                // Apply rotation
                for (int k = 0; k < n; k++) {
                    float up = U[k * n + p];
                    float uq = U[k * n + q];
                    U[k * n + p] = c * up - s * uq;
                    U[k * n + q] = s * up + c * uq;
                }
            }
        }
    }
    
    // Embed watermark in singular values
    for (int i = 0; i < n && i < watermark_len; i++) {
        S[i] += alpha * watermark[i];
    }
}</pre>
                        </div>
                    </div>

                    <!-- Reed-Solomon -->
                    <div>
                        <h3 class="text-xl font-semibold text-white mb-4">4. Reed-Solomon ECC (255, 223)</h3>
                        <div class="code-block rounded-lg p-4">
                            <div class="text-xs text-slate-500 mb-2">// RS Encoder</div>
                            <pre class="mono text-sm text-green-400 overflow-x-auto">// Galois Field GF(2^8) with primitive polynomial x^8 + x^4 + x^3 + x^2 + 1
#define GF_SIZE 256
#define RS_N 255
#define RS_K 223
#define RS_T 16  // (N-K)/2

// Generator polynomial for RS(255, 223)
static uint8_t rs_gen_poly[RS_N - RS_K + 1];

void rs_init() {
    // Initialize generator polynomial
    rs_gen_poly[0] = 1;
    for (int i = 0; i < RS_N - RS_K; i++) {
        for (int j = i + 1; j > 0; j--) {
            rs_gen_poly[j] = gf_add(rs_gen_poly[j], 
                gf_mul(rs_gen_poly[j-1], gf_pow(2, i)));
        }
    }
}

void rs_encode(uint8_t* data, uint8_t* parity) {
    // Systematic encoding: parity = data * x^(N-K) mod g(x)
    memset(parity, 0, RS_N - RS_K);
    
    for (int i = 0; i < RS_K; i++) {
        uint8_t feedback = gf_add(data[i], parity[0]);
        if (feedback != 0) {
            for (int j = 0; j < RS_N - RS_K - 1; j++) {
                parity[j] = gf_add(parity[j + 1], gf_mul(feedback, rs_gen_poly[j + 1]));
            }
            parity[RS_N - RS_K - 1] = gf_mul(feedback, rs_gen_poly[RS_N - RS_K]);
        } else {
            memmove(parity, parity + 1, RS_N - RS_K - 1);
            parity[RS_N - RS_K - 1] = 0;
        }
    }
}</pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Optimization Techniques -->
            <section class="glass rounded-2xl p-8 mb-12 border border-slate-700">
                <h2 class="text-2xl font-bold text-white mb-6">Optimizasyon Teknikleri</h2>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold text-white mb-4">CUDA Optimizasyonları</h3>
                        <div class="space-y-3">
                            <div class="bg-slate-800 rounded-lg p-4">
                                <div class="font-semibold text-blue-400 mb-1">Shared Memory Kullanımı</div>
                                <div class="text-sm text-slate-400">8x8 DCT blokları için __shared__ memory, global memory erişimini %80 azaltır</div>
                            </div>
                            <div class="bg-slate-800 rounded-lg p-4">
                                <div class="font-semibold text-blue-400 mb-1">Coalesced Memory Access</div>
                                <div class="text-sm text-slate-400">Thread'ler ardışık adreslere erişir, memory throughput 2x artar</div>
                            </div>
                            <div class="bg-slate-800 rounded-lg p-4">
                                <div class="font-semibold text-blue-400 mb-1">Occupancy Optimizasyonu</div>
                                <div class="text-sm text-slate-400">256 thread/blok, 4 blok/SM, %100 occupancy</div>
                            </div>
                            <div class="bg-slate-800 rounded-lg p-4">
                                <div class="font-semibold text-blue-400 mb-1">Async Memory Copy</div>
                                <div class="text-sm text-slate-400">cudaMemcpyAsync + streams, overlap compute ve transfer</div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-white mb-4">Algoritma Optimizasyonları</h3>
                        <div class="space-y-3">
                            <div class="bg-slate-800 rounded-lg p-4">
                                <div class="font-semibold text-green-400 mb-1">Fast DCT</div>
                                <div class="text-sm text-slate-400">Arai, Agui, Nakajima algoritması, 13 çarpma yerine 5</div>
                            </div>
                            <div class="bg-slate-800 rounded-lg p-4">
                                <div class="font-semibold text-green-400 mb-1">Lifting Scheme DWT</div>
                                <div class="text-sm text-slate-400">Yerinde hesaplama, ek memory gerektirmez</div>
                            </div>
                            <div class="bg-slate-800 rounded-lg p-4">
                                <div class="font-semibold text-green-400 mb-1">Region of Interest</div>
                                <div class="text-sm text-slate-400">Sadece değişen bölgeleri işle, delta frame optimizasyonu</div>
                            </div>
                            <div class="bg-slate-800 rounded-lg p-4">
                                <div class="font-semibold text-green-400 mb-1">Early Exit</div>
                                <div class="text-sm text-slate-400">Yeterli watermark gücüne ulaşıldığında işlemi durdur</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Performance Benchmarks -->
            <section class="glass rounded-2xl p-8 mb-12 border border-slate-700">
                <h2 class="text-2xl font-bold text-white mb-6">Performans Karşılaştırması</h2>
                
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b border-slate-700">
                                <th class="text-left py-3 text-slate-400">Konfigürasyon</th>
                                <th class="text-right py-3 text-slate-400">1080p</th>
                                <th class="text-right py-3 text-slate-400">1440p</th>
                                <th class="text-right py-3 text-slate-400">4K</th>
                                <th class="text-right py-3 text-slate-400">GPU Kullanımı</th>
                            </tr>
                        </thead>
                        <tbody class="text-slate-300">
                            <tr class="border-b border-slate-800">
                                <td class="py-3">CPU (AVX2, 8 çekirdek)</td>
                                <td class="text-right">45ms</td>
                                <td class="text-right">78ms</td>
                                <td class="text-right">180ms</td>
                                <td class="text-right">N/A</td>
                            </tr>
                            <tr class="border-b border-slate-800">
                                <td class="py-3">Intel UHD 770 (iGPU)</td>
                                <td class="text-right">12ms</td>
                                <td class="text-right">22ms</td>
                                <td class="text-right">48ms</td>
                                <td class="text-right">%85</td>
                            </tr>
                            <tr class="border-b border-slate-800">
                                <td class="py-3 text-green-400">NVIDIA GTX 1660</td>
                                <td class="text-right text-green-400">2.1ms</td>
                                <td class="text-right text-green-400">3.8ms</td>
                                <td class="text-right text-green-400">8.5ms</td>
                                <td class="text-right">%35</td>
                            </tr>
                            <tr class="border-b border-slate-800">
                                <td class="py-3 text-green-400">NVIDIA RTX 3060</td>
                                <td class="text-right text-green-400">0.8ms</td>
                                <td class="text-right text-green-400">1.5ms</td>
                                <td class="text-right text-green-400">3.2ms</td>
                                <td class="text-right">%25</td>
                            </tr>
                            <tr class="border-b border-slate-800">
                                <td class="py-3 text-green-400">NVIDIA RTX 4090</td>
                                <td class="text-right text-green-400">0.3ms</td>
                                <td class="text-right text-green-400">0.5ms</td>
                                <td class="text-right text-green-400">1.1ms</td>
                                <td class="text-right">%15</td>
                            </tr>
                            <tr>
                                <td class="py-3 text-green-400">AMD RX 6600</td>
                                <td class="text-right text-green-400">1.2ms</td>
                                <td class="text-right text-green-400">2.2ms</td>
                                <td class="text-right text-green-400">4.8ms</td>
                                <td class="text-right">%30</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Memory Layout -->
            <section class="glass rounded-2xl p-8 mb-12 border border-slate-700">
                <h2 class="text-2xl font-bold text-white mb-6">Bellek Düzeni</h2>
                
                <div class="code-block rounded-lg p-4">
                    <div class="text-xs text-slate-500 mb-2">// Frame Buffer Memory Layout (1920x1080 @ 32bpp)</div>
                    <pre class="mono text-sm text-green-400 overflow-x-auto">// Host Memory (System RAM)
struct FrameBuffer {
    uint32_t* pixels;        // 1920 * 1080 * 4 = 8,294,400 bytes
    uint32_t width;          // 1920
    uint32_t height;         // 1080
    uint32_t pitch;          // 1920 * 4 = 7680 bytes
    PixelFormat format;      // BGRA8888
};

// Device Memory (GPU VRAM)
struct GPUFrameBuffer {
    float* d_y_channel;      // 1920 * 1080 * 4 = 8,294,400 bytes (float)
    float* d_cb_channel;     // 960 * 540 * 4 = 2,073,600 bytes (4:2:0 subsampled)
    float* d_cr_channel;     // 960 * 540 * 4 = 2,073,600 bytes
    
    // DCT coefficients (8x8 blocks)
    float* d_dct_coeffs;     // (1920/8) * (1080/8) * 64 * 4 = 8,294,400 bytes
    
    // DWT coefficients (3 levels)
    float* d_dwt_ll[3];      // Low-low subbands
    float* d_dwt_lh[3];      // Low-high subbands
    float* d_dwt_hl[3];      // High-low subbands
    float* d_dwt_hh[3];      // High-high subbands
    
    // Watermark pattern
    uint8_t* d_watermark;    // 1024 bytes (RS-encoded)
};

// Total GPU Memory per frame: ~40 MB
// With triple buffering: ~120 MB</pre>
                </div>
            </section>

            <!-- Footer -->
            <footer class="text-center text-slate-500 text-sm">
                <p>Forensic Watermark Derin Teknik Plan v2.1.0 | Son Güncelleme: Şubat 2026</p>
            </footer>
        </div>
    </main>
    <!-- Footer -->
    <footer class="border-t border-slate-700 py-8 px-6 mt-12">
        <div class="max-w-7xl mx-auto text-center">
            <p class="text-slate-400 font-semibold">Berasoft Yazılım LTD. ŞTİ. tarafından hazırlanmıştır</p>
            <p class="text-slate-500 text-sm mt-2">Forensic Watermark Proje Dokümantasyonu v2.1.0 | Şubat 2026</p>
            <p class="text-slate-600 text-sm mt-1">Tüm hakları saklıdır. © 2026 Berasoft Yazılım</p>
        </div>
    </footer>
</body>
</html>